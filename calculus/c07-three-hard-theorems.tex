\documentclass{article}

\usepackage{amsmath,amssymb,amsthm}
\usepackage[shortlabels]{enumitem}

\newtheorem{definition}{Definition}
\newtheorem{theorem}{Theorem}
\newtheorem*{theorem*}{Theorem}
\newtheorem{lemma}{Lemma}

\begin{document}

\title{Chapter 7: Three Hard Theorems}
\maketitle

Theorems 1 to 3 as listed originally in the book have been replaced by their
generalisations:

\begin{theorem}[Intermediate Value Theorem]
  If $f$ is continuous on $[a, b]$ and $f(a) < c < f(b)$, then there is some
  $x$ in $[a, b]$ such that $f(x) = c$. Similarly, if $f(a) > c > f(b)$, then
  there is some $x$ in $[b, a]$ such that $f(x) = c$.
  (Theorems 7-1, 7-4, 7-5.)
\end{theorem}

\begin{theorem}
  If $f$ is continuous on $[a, b]$, then $f$ is bounded on $[a, b]$, that
  is, there are some numbers $N_1$ and $N_2$ such that $f(x) \leq N_1$ and
  $f(x) \geq N_2$ for all $x$ in $[a, b]$. (Theorems 7-2, 7-6.)
\end{theorem}

\begin{theorem}
  If $f$ is continuous on $[a, b]$, then there is some $y_1$ in $[a, b]$ such
  that $f(y_1) \leq f(x)$ for all $x$ in $[a, b]$. Similarly, there is some
  $y_2$ in $[a, b]$ such that $f(y_2) \geq f(x)$ for all $x$ in $[a, b]$.
  (Theorems 7-3, 7-7.)
\end{theorem}

Following on from Theorem 1 to 3, we proceed to prove a few interesting
results.

\setcounter{theorem}{7}
\begin{theorem}
  Every positive number has a square root. In other words, if $a > 0$, then
  there is some number $x$ such that $x^2 = a$.
\end{theorem}
\begin{proof}
  Consider the function $f(x) = x^2$, which is certainly continuous. Notice
  that the statement of the theorem can be expressed in terms of $f$: "the
  number $\alpha$ has a square root" means that $f$ takes on the value
  $\alpha$. The proof of this fact about $f$ will be an easy consequence of
  Theorem 4.

  There is obviously a number $b > 0$ such that $f(b) > \alpha$; in fact, if
  $\alpha > 1$ we can take $b = \alpha$, while if $\alpha < 1$ we can take $b =
  1$. Since $f(0) < \alpha < f(b)$, Theorem 4 applied to $[0, b]$ implies that
  for some $x$ (in $[0, b]$), we have $f(x) = \alpha$, i.e., $x^2 = \alpha$.
\end{proof}

\begin{theorem}
  If $n$ is odd, then any equation \[
    x^n + a_{n-1}x^{n-1} + \cdots + a_0 = 0
  \] has a root.
\end{theorem}
\begin{proof}
  We obviously want to consider the function \[
    f(x) = x^n + a_{n-1}x^{n-1} + \cdots + a_0;
  \] we would like to prove that $f$ is sometimes positive and sometimes
  negative. The intuitive idea is that for large $|x|$, the function is very
  much like $g(x) = x^n$ and, since $n$ is odd, this function is positive for
  large positive $x$ and negative for large negative $x$. A little algebra is
  all we need to make this intuitive idea work.

  The proper analysis of the function $f$ depends on writing \[
    f(x) = x^n + a_{n-1}x^{n-1} + \cdots + a_0
    = x^n \left( 1 + \frac{a_{n-1}}{x} + \cdots + \frac{a_0}{x^n} \right).
  \] Note that \[
    \left| \frac{a_{n-1}}{x} + \frac{a_{n-2}}{x^2} + \cdots + \frac{a_0}{x^n}
      \right| \leq \frac{|a_{n-1}|}{|x|} + \cdots + \frac{|a_0|}{|x^n|}.
  \] Consequently, if we choose $x$ satisfying \[
    \label{eq:thm9-cond} \tag{*}
    |x| \geq 1, 2n|a_{n-1}|, \ldots, 2n|a_0|,
  \] then $|x^k| \geq |x|$ and \[
    \frac{|a_{n-k}|}{|x^k|} \leq \frac{|a_{n-k}|}{|x|}
    \leq \frac{|a_{n-k}|}{2n |a_{n-k}|}
    = \frac{1}{2n},
  \] so \[
    \left| \frac{a_{n-1}}{x} + \frac{a_{n-2}}{x^2} + \cdots + \frac{a_0}{x^n}
      \right| \leq \frac{1}{2n} + \cdots + \frac{1}{2n} = \frac{1}{2}.
  \] In other words, \[
    -\frac{1}{2} \leq \frac{a_{n-1}}{x} + \cdots + \frac{a_0}{x^n} \leq
      \frac{1}{2}
  \] which implies that \[
    \frac{1}{2} \leq 1 + \frac{a_{n-1}}{x} + \cdots + \frac{a_0}{x^n}.
  \] Therefore, if we choose an $x_1 > 0$ which satisfies \eqref{eq:thm9-cond},
  then \[
    \frac{(x_1)^n}{2}
    \leq (x_1)^n \left( 1 + \frac{a_{n-1}}{x_1} + \cdots + \frac{a_0}{(x_1)^n}
    \right)
    = f(x_1),
  \] so that $f(x_1) > 0$. On the other hand, if $x_2 < 0$ satisfies
  \eqref{eq:thm9-cond}, then $(x_2)^n < 0$ and \[
    \frac{(x_2)^n}{2}
    \geq (x_2)^n \left( 1 + \frac{a_{n-1}}{x_2} + \cdots + \frac{a_0}{(x_2)^n}
    \right)
    = f(x_2),
  \] so that $f(x_2) < 0$.

  Now applying Theorem 1 to the interval $[x_2, x_1]$ we conclude that there is
  an $x$ in $[x_2, x_1]$ such that $f(x) = 0$.
\end{proof}

\begin{theorem}
  If $n$ is even and $f(x) = x^n + a_{n-1}x^{n-1} + \cdots + a_0$, then there
  is a number $y$ such that $f(y) \leq f(x)$ for all $x$.
\end{theorem}
\begin{proof}
  As in the proof of Theorem 9, if \[
    M = \max(1, 2n|a_{n-1}|, \ldots, 2n|a_0|),
  \] then for all $x$ with $|x| \geq M$, we have \[
    \frac{1}{2} \leq 1 + \frac{a_{n-1}}{x} + \cdots + \frac{a_0}{x^n}.
    \] Since $n$ is even, $x^n \geq 0$ for all $x$, so \[
    \frac{x^n}{2}
    \leq x^n \left( 1 + \frac{a_{n-1}}{x} + \cdots + \frac{a_0}{x^n} \right)
    = f(x),
  \] provided that $|x| \geq M$. Now consider the number $f(0)$. Let $b > 0$ be
  a number such that $b^n/2 \geq f(0)$ and also $b \geq M$. Then, if $x \geq
  b$, we have \[
    f(x) \geq \frac{x^n}{2} \geq \frac{b^n}{2} \geq f(0).
  \] Similarly, if $x \leq -b$, then \[
    f(x) \geq \frac{x^n}{2} \geq \frac{(-b)^n}{2} = \frac{b^n}{2} \geq f(0).
  \] Summarizing: \[
    \text{if } x \geq b \text{ or } x \leq -b, \text{then } f(x) \geq f(0).
  \]

  Now apply Theorem 7 to the function $f$ on the interval $[-b, b]$. We
  conclude that there is a number $y$ such that \begin{align*}
    \text{if } &-b \leq x \leq b, &\text{ then } &f(y) \leq f(x); \\
    \text{if } &x \leq -b \text{ or } x \geq b, &\text{ then } &f(x) \geq f(0)
      \geq f(y).
  \end{align*}
  Hence, we see that $f(y) \leq f(x)$ for all $x$.
\end{proof}

\begin{theorem}
  Consider the equation \[
    \label{eq:thm11-eq} \tag{*}
    x^n + a_{n-1}x^{n-1} + \cdots + a_0 = c, 
  \] and suppose $n$ is even. Then there is a number $m$ such that
  \eqref{eq:thm11-eq} has a solution for $c \geq m$ and has no solution for $c
  < m$.
\end{theorem}

\begin{proof}
  Let $f(x) = x^n + a_{n-1}x^{n-1} + \cdots + a_0$.

  According to Theorem 10 there is a number $y$ such that $f(y) \leq f(x)$ for
  all $x$. Let $m = f(y)$. If $c < m$, then the equation \eqref{eq:thm11-eq}
  obviously has no solution, since the left side always has a value $\geq m$.
  If $c = m$, then \eqref{eq:thm11-eq} has $y$ as a solution. Finally,
  suppose $c > m$. Let $b$ be a number such that $b > y$ and $f(b) > c$. Then
  $f(y) = m < c < f(b)$. Consequently, by Theorem 4, there is some number $x$
  in $[y, b]$ such that $f(x) = c$, so $x$ is a solution of
  \eqref{eq:thm11-eq}.
\end{proof}

On the basis of our present knowledge about the real numbers (namely, P1-P12)
a proof of Theorems 1, 2 and 3 is impossible.

\section*{Exercises}

\paragraph{Problem 13}
\begin{enumerate}[(b)]
  \item If $f$ were not continuous at $a$, then for all $\epsilon > 0$ there
    would be $x$ arbitrarily close to $a$ with $|f(x) - f(a)| > \epsilon$.

    Pick some $x > a$ with $f(x) > f(a) + \epsilon$. By the Intermediate Value
    Theorem, there is $x'$ between $a$ and $x$ with $f(x') < f(a) + \epsilon$.
    But there is also $y$ between $a$ and $x'$ with $f(y) > f(a) + \epsilon$.
    By the Intermediate Value Theorem, $f$ takes on the value $f(a) + \epsilon$
    between $y$ and $x'$ and also between $x'$ and $x$, contradicting the
    hypothesis.
  \item As in (b), choose $x_1 > a$ with $f(x_1) > f(a) + \epsilon$. Then
    choose $x'_1$ between $a$ and $x_1$ with $f(x'_1) < f(a) + \epsilon$. Then
    choose $x_2$ between $a$ and $x'_1$ with $f(x_2) > f(a) + \epsilon$ and
    $x'_2$ between $a$ and $x_2$ with $f(x'_2) < f(a) + \epsilon$. Repeating
    this process indefinitely, $f$ takes on the value $f(a) + \epsilon$ on each
    interval $[x'_n, x_n]$ for any positive integer $n$, contradicting the
    hypothesis.
\end{enumerate}

\paragraph{Problem 14}
\begin{enumerate}[(b)]
  \item We have \[
      |f + g|(x) = |f(x) + g(x)| \leq |f(x)| + |g(x)| \leq |f|(x) + |g|(x).
  \] If $|f + g|$ has its maximum value at $x_0$, then \[
    \|f + g\| = |f + g|(x_0) \leq |f|(x_0) + |g|(x_0) \leq \|f\| + \|g\|
  \]

  Consider the functions $f = -2x + 1, g = 2x - 1$. Clearly, $f + g = 0$ leads
  to $\|f + g\| = 0$, whereas $\|f\| = \|g\| = 1$ and $\|f\| + \|g\| = 1 + 1 =
  2$.
\end{enumerate}

\paragraph{Problem 15}
\begin{enumerate}[(a)]
  \item Choose $b > 0$ such that $|\phi(b)/b^n| < 1/2$. Then, \[
    b^n + \phi(b)
    = b^n \left( 1 + \frac{\phi(b)}{b^n} \right)
    > \frac{b^n}{2} > 0.
  \] Similarly, choose $a < 0$ such that $|\phi(a)/a^n| < 1/2$. Then, \[
    a^n + \phi(a)
    = a^n \left( 1 + \frac{\phi(a)}{a^n} \right)
    < \frac{a^n}{2} < 0.
  \] So by the Intermediate Value Theorem, $x^n + \phi(x) = 0$ for some $x$ in
  $[a, b]$.
  \item Choose $b > 0$ such that $|\phi(x)/x^n| < 1/2$ for $|x| > b$. For $|x|
    > b$, \[
      x^n + \phi(x)
      = x^n \left( 1 + \frac{\phi(x)}{x^n} \right)
      > \frac{x^n}{2} > \frac{b^n}{2}.
    \] Suppose further that $b^n/2 > \phi(0)$. Then, with $x^n + \phi(x) >
    \phi(0)$ for $|x| > b$, the minimum of $x^n + \phi(x)$ for $x$ in $[-b, b]$
    is the minimum for all $x$.
\end{enumerate}

\paragraph{Problem 16} If \[
  f(x) = x^n + a_{n-1}x^{n-1} + \cdots + a_0,
\] let $M = \max(1, 2n|a_{n-1}|, \ldots, 2n|a_0|)$. Then, for all $x$ with $|x|
\geq M$, \[
  \frac{1}{2} \leq 1 + \frac{a_{n-1}}{x} + \cdots + \frac{a_0}{x^n},
\] so \[
  |f(x)|
  = \left| x^n \left(
    1 + \frac{a_{n-1}}{x} + \cdots + \frac{a_0}{x^n}
  \right)\right|
  \geq \left| \frac{x^n}{2} \right|
\] If $b > M$ satisfies $|b^n/2| \geq |f(0)|$, then $|f(x)| \geq |f(0)|$ for
$|x| \geq b$. Hence, the minimum value of $|f(x)|$ on $[-b, b]$ is the minimum
value for all $x$.

\paragraph{Problem 17} Pick $b > 0$ such that $f(x) < f(0)$ for $|x| > b$. Then
the maximum of $f$ on $[-b, b]$ is also the maximum on $\mathbb{R}$.

\paragraph{Problem 18}
\begin{enumerate}[(a)]
  \item Theorem 3 can be applied to the continuous function \[
      d(z) = \sqrt{(f(z))^2 + (z - x)^2}
    \] which gives the distance from $(x, 0)$ to $(z, f(z))$, for $z$ in
    $[a, b]$.
  \item If $f(x) = x$ on $(a, b)$, then no point of the graph is closest to the
    point $(a, a)$.
  \item Clearly, the function $d(z)$ satisfies the conditions $d(z) > 0$ for
    all $z$ and $\lim_{z \to -\infty} d(z) = \infty = \lim_{z \to \infty}
    d(z)$. Choose $c > 0$ such that $d(z) > d(0)$ for all $|z| > c$. Then, the
    minimum of $d$ on $[-c, c]$ must also be the minimum on $\mathbb{R}$.
  \item By definition, $g(x) = \sqrt{(f(z))^2 + (z - x)^2}$ for some $z$ in
    $[a, b]$ or $\mathbb{R}$. Now, for all $z$, \[
      \sqrt{(f(z))^2 + (z - y)^2} \leq \sqrt{(f(z))^2 + (z - x)^2} + |x - y|.
    \] Consider a particular $z_0$ such that $\sqrt{(f(z))^2 + (z - x)^2}$ is
    at its minimum; then, $g(y) \leq \sqrt{(f(z_0))^2 + (z_0 - y)^2}$ and $g(x)
    = \sqrt{(f(z_0))^2 + (z_0 - x)^2}$. Hence, $g(y) \leq g(x) + |x - y|$.

    Since $|g(y) - g(x)| \leq |y - x|$, it follows that for any choice of
    $\epsilon > 0$, one could pick $\delta = \epsilon$, proving the continuity
    of $g$ on $[a, b]$ or $\mathbb{R}$.
  \item Apply Theorem 3 to the continuous function $g$ on $[a, b]$.
\end{enumerate}

\paragraph{Problem 7-19 (abridged). (a)} Suppose that $f$ is continuous on $[0,
1]$ and $f(0) = f(1)$. Let $n$ be any natural number. Prove that there is some
number $x$ such that $f(x) = f(x + 1/n)$. Hint: Consider the function $g(x) =
f(x) - f(x + 1/n)$.

\paragraph{Problem 19}
\begin{enumerate}[(a)]
  \item Suppose that there exists no number $x$ such that $f(x) = f(x + 1/n)$,
    which implies that $g(x) \neq 0$ for all $x$. Since $g$ is continuous on
    $[0, 1]$, this must mean that $g(x) > 0$ or $g(x) < 0$ for all $x$, i.e.
    $f(x) > f(x + 1/n)$ or $f(x) < f(x + 1/n)$. In the case where $f(x) >
    f(x + 1/n)$, we would have \[
      f(0) > f(1/n) > f(2/n) > \cdots > f(n/n) = f(1)
    \] which is a contradiction. Similarly, the case where $f(x) < f(x + 1/n)$
    would lead to a contradiction.
\end{enumerate}

\end{document}

